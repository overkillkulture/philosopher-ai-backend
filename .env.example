# ================================================
# PHILOSOPHER AI - ENVIRONMENT CONFIGURATION
# ================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git (add to .gitignore)
# ================================================

# ================================================
# SERVER CONFIGURATION
# ================================================
NODE_ENV=development
PORT=3001
API_URL=http://localhost:3001
FRONTEND_URL=http://localhost:8000

# ================================================
# DATABASE (PostgreSQL)
# ================================================
DATABASE_URL=postgresql://postgres:your_password@localhost:5432/philosopher_ai_db

# Or separate config:
DB_HOST=localhost
DB_PORT=5432
DB_NAME=philosopher_ai_db
DB_USER=postgres
DB_PASSWORD=your_secure_password

# ================================================
# AUTHENTICATION
# ================================================
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production
JWT_EXPIRES_IN=7d

# Password hashing (bcrypt rounds)
BCRYPT_ROUNDS=10

# ================================================
# CLAUDE API (Anthropic)
# ================================================
ANTHROPIC_API_KEY=sk-ant-your-api-key-here
CLAUDE_MODEL=claude-3-5-sonnet-20241022
CLAUDE_MAX_TOKENS=4096

# ================================================
# STRIPE (Payment Processing)
# ================================================
# Get these from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe Price IDs (create products in Stripe dashboard)
STRIPE_PRICE_STUDENT_MONTHLY=price_student_monthly_id
STRIPE_PRICE_STUDENT_YEARLY=price_student_yearly_id
STRIPE_PRICE_TEACHER_MONTHLY=price_teacher_monthly_id
STRIPE_PRICE_TEACHER_YEARLY=price_teacher_yearly_id
STRIPE_PRICE_PHILOSOPHER_MONTHLY=price_philosopher_monthly_id

# ================================================
# EMAIL (Optional - for verification emails)
# ================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-specific-password
FROM_EMAIL=noreply@consciousnessrevolution.io
FROM_NAME=Philosopher AI

# ================================================
# RATE LIMITING
# ================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Question rate limiting (per user)
QUESTION_RATE_LIMIT_WINDOW_MS=60000
QUESTION_RATE_LIMIT_MAX=10

# ================================================
# CORS (Cross-Origin Resource Sharing)
# ================================================
ALLOWED_ORIGINS=http://localhost:8000,https://consciousnessrevolution.io,https://verdant-tulumba-fa2a5a.netlify.app

# ================================================
# LOGGING
# ================================================
LOG_LEVEL=info
LOG_FILE=./logs/philosopher-ai.log

# ================================================
# CONSCIOUSNESS GATE INTEGRATION
# ================================================
CONSCIOUSNESS_GATE_THRESHOLD=85
AIRTABLE_API_KEY=your_airtable_api_key
AIRTABLE_BASE_ID=your_airtable_base_id
AIRTABLE_TABLE_NAME=Consciousness_Gate_Submissions

# ================================================
# VERSION TRACKING
# ================================================
PLATFORM_VERSION=1.0.0
PLATFORM_BUILD_NUMBER=1

# ================================================
# SECURITY
# ================================================
COOKIE_SECRET=your_cookie_secret_key
SESSION_SECRET=your_session_secret_key

# Content Security Policy
CSP_REPORT_URI=https://consciousnessrevolution.io/api/csp-report

# ================================================
# ANALYTICS (Optional)
# ================================================
GOOGLE_ANALYTICS_ID=UA-XXXXXXXXX-X
MIXPANEL_TOKEN=your_mixpanel_token

# ================================================
# PRODUCTION OVERRIDES
# ================================================
# When NODE_ENV=production, set these:
# API_URL=https://api.consciousnessrevolution.io
# FRONTEND_URL=https://consciousnessrevolution.io
# DATABASE_URL=postgresql://user:pass@production-db-host:5432/philosopher_ai_db
# STRIPE_SECRET_KEY=sk_live_your_live_key
# STRIPE_PUBLISHABLE_KEY=pk_live_your_live_key

# ================================================
# NOTES
# ================================================
# 1. Generate JWT_SECRET with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# 2. Get Anthropic API key from: https://console.anthropic.com/
# 3. Set up Stripe at: https://dashboard.stripe.com/
# 4. PostgreSQL must be running before starting server
# 5. Run database schema: npm run db:setup
